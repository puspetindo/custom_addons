<odoo>
    <data>
        <record id="view_account_move_form_inherit_vendor_payment_detail" model="ir.ui.view">
            <field name="name">account.move.form.inherit.vendor.payment.detail</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form" />
            <field name="arch" type="xml">

                <!-- Add vendor payment detail fields and report buttons in header -->
                <xpath expr="//header" position="inside">
                    <button name="%(vendor_payment_detail.action_report_perincian_pembayaran)d"
                        type="action" string="Perincian Pembayaran" class="btn-secondary"
                        invisible="move_type != 'in_invoice' or state != 'draft'" />
                    <button name="%(vendor_payment_detail.action_report_bukti_bank_keluar)d"
                        type="action" string="Bukti Bank Keluar" class="btn-secondary"
                        invisible="move_type != 'in_invoice' or state != 'posted' or payment_state != 'paid'" />
                    <button name="%(vendor_payment_detail.action_report_laporan_pemakian_biaya)d"
                        type="action" string="Laporan Pemakian Biaya" class="btn-secondary"
                        invisible="move_type != 'in_invoice' or state != 'posted' or payment_state != 'paid'" />
                </xpath>


                <xpath expr="//notebook" position="inside">
                    <page string="Dokumen Pendukung" invisible="move_type != 'in_invoice'">
                        <group>
                            <group>
                                <field name="is_memo_attached" readonly="state != 'draft'" />
                                <field name="memo_ref" readonly="state != 'draft'"
                                    invisible="not is_memo_attached" />
                                <field name="memo_file" widget="binary" readonly="state != 'draft'"
                                    invisible="not is_memo_attached" />
                                <field name="memo_filename" invisible="1" />
                                <field name="is_invoice_attached" readonly="state != 'draft'" />
                                <field name="invoice_ref" readonly="state != 'draft'"
                                    invisible="not is_invoice_attached" />
                                <field name="invoice_file" widget="binary"
                                    readonly="state != 'draft'" invisible="not is_invoice_attached" />
                                <field name="invoice_filename" invisible="1" />
                                <field name="is_tax_invoice_attached" readonly="state != 'draft'" />
                                <field name="tax_invoice_ref" readonly="state != 'draft'"
                                    invisible="not is_tax_invoice_attached" />
                                <field name="tax_invoice_file" widget="binary"
                                    readonly="state != 'draft'"
                                    invisible="not is_tax_invoice_attached" />
                                <field name="tax_invoice_filename" invisible="1" />
                                <field name="is_po_attached" readonly="state != 'draft'" />
                                <field name="po_ref" readonly="state != 'draft'"
                                    invisible="not is_po_attached" />
                                <field name="po_file" widget="binary" readonly="state != 'draft'"
                                    invisible="not is_po_attached" />
                                <field name="po_filename" invisible="1" />
                            </group>
                            <group>
                                <field name="is_late_fee_doc_attached" readonly="state != 'draft'" />
                                <field name="late_fee_doc_file" widget="binary"
                                    readonly="state != 'draft'"
                                    invisible="not is_late_fee_doc_attached" />
                                <field name="late_fee_doc_filename" invisible="1" />
                                <field name="is_lpb_attached" readonly="state != 'draft'" />
                                <field name="lpb_ref" readonly="state != 'draft'"
                                    invisible="not is_lpb_attached" />
                                <field name="lpb_file" widget="binary" readonly="state != 'draft'"
                                    invisible="not is_lpb_attached" />
                                <field name="lpb_filename" invisible="1" />
                                <field name="is_ba_attached" readonly="state != 'draft'" />
                                <field name="ba_file" widget="binary" readonly="state != 'draft'"
                                    invisible="not is_ba_attached" />
                                <field name="ba_filename" invisible="1" />
                                <field name="is_delivery_note_attached" readonly="state != 'draft'" />
                                <field name="delivery_note_file" widget="binary"
                                    readonly="state != 'draft'"
                                    invisible="not is_delivery_note_attached" />
                                <field name="delivery_note_filename" invisible="1" />
                                <field name="is_other_doc_attached" readonly="state != 'draft'" />
                                <field name="other_doc_file" widget="binary"
                                    readonly="state != 'draft'"
                                    invisible="not is_other_doc_attached" />
                                <field name="other_doc_filename" invisible="1" />
                            </group>
                        </group>
                    </page>
                    <page string="Persetujuan" invisible="move_type != 'in_invoice'">
                        <group>
                            <field name="verifier_user_id" readonly="state != 'draft'" />
                            <field name="verifier_signature" widget="signature"
                                readonly="state != 'draft'" />
                            <field name="tax_checker_user_id" readonly="state != 'draft'" />
                            <field name="tax_checker_signature" widget="signature"
                                readonly="state != 'draft'" />
                            <field name="accounting_approver_user_id" readonly="state != 'draft'" />
                            <field name="accounting_approver_signature" widget="signature"
                                readonly="state != 'draft'" />
                        </group>
                    </page>
                </xpath>
                <xpath expr="//field[@name='purchase_vendor_bill_id']" position="after">
                    <field name="source_document_ref" string="No. PO/DK/SPK/Surat/Memo"
                    />
                    <field name="journal_entry_ref" string="Job. No. JE/JS"
                    />
                    <field name="use_template_lines" invisible="move_type != 'in_invoice'" />
                </xpath>
            </field>
        </record>
    </data>
</odoo>